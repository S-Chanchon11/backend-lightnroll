# Welcome to Cloud Functions for Firebase for Python!
# To get started, simply uncomment the below code or create your own.
# Deploy with `firebase deploy`

# The Cloud Functions for Firebase SDK to create Cloud Functions and set up triggers.

import json
from math import log2
import pickle
import sys
# from aubio import source, onset
from flask import jsonify
import librosa
import numpy as np
# from pydub import AudioSegment
# import soundfile as sf
import io
# import json
# import soundfile as sf
from firebase_functions import firestore_fn, https_fn
import audiosegment
# The Firebase Admin SDK to access Cloud Firestore.
# from firebase_admin import initialize_app, firestore
import firebase_admin
from firebase_admin import db, credentials, storage, firestore

from app.utils.CONSTANTS import CERTIFICATE, DB_URL
from app.tuner.Tuner import Tuner

cred = credentials.Certificate(CERTIFICATE)

firebase_admin.initialize_app(
    cred, 
    {"storageBucket": "lightnroll-11.appspot.com", 
     "databaseURL": DB_URL}
)


bucket = storage.bucket()
# storage = firebase

"""
To deploy local
0.firebase init functions
0.firebase emulators:start

1.firebase deploy --only functions

2.You will get URL(s) then continue insert query into parameter

http://127.0.0.1:5001/lightnroll-11/us-central1/main?path=audio/G_E_1.wav
"""
# cs = storage.storage
ref = db.reference("/all-chords")
getData = ref.get()
rt_ref = db.reference("/")
audio_feature_ref = db.reference("/audio_feature")
ml_ref = db.reference("/ml_predict")
# db_firestore = firestore.Client()
firestore_client: firestore.Client = firestore.client()

@https_fn.on_request()
def on_request_example(req: https_fn.Request) -> https_fn.Response:
    return https_fn.Response("Hello world!")

@https_fn.on_request()
def get_pcp(req: https_fn.Request) -> https_fn.Response:
    pcp = [0.1,0.2,0.3,0.4,0.5]
    jsonObj = {
        "pcp" : pcp
    }
    return jsonify(jsonObj)

@https_fn.on_request()
def get_pcp(req: https_fn.Request) -> https_fn.Response:
    pcp = [0.1,0.2,0.3,0.4,0.5]
    jsonObj = {
        "pcp" : pcp
    }
    return jsonify(jsonObj)

@https_fn.on_request()
def read_database_on_realtime_database(req: https_fn.Request):
    get_new_ref = audio_feature_ref.get()
    # ref = db.reference("/all-chords")
    return get_new_ref

@https_fn.on_request()
def read_firestore(req: https_fn.Request):
    users_ref = firestore_client.collection("a")
    docs = users_ref.stream()
    for doc in docs:
        print(f"{doc.id} => {doc.to_dict()}")
    # ref = db.reference("/all-chords")
    return "done"
@https_fn.on_request()
def write(req: https_fn.Request):

    y = [
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    0.0155944824,
    -0.032043457,
    -0.0938110352,
    -0.14541626,
    -0.177368164,
    -0.200012207,
    -0.225128174,
    -0.25112915,
    -0.263427734,
    -0.256134033,
    -0.238342285,
    -0.239868164,
    -0.254943848,
    -0.2628479,
    -0.267181396,
    -0.266021729,
    -0.265930176,
    -0.278656006,
    -0.305358887,
    -0.332550049,
    -0.350402832,
    -0.354614258,
    -0.328826904,
    -0.291931152,
    -0.291687012,
    -0.315155029,
    -0.332000732,
    -0.334564209,
    -0.336669922,
    -0.344177246,
    -0.332061768,
    -0.306121826,
    -0.269134521,
    -0.242492676,
    -0.239440918,
    -0.229003906,
    -0.210296631,
    -0.185546875,
    -0.163787842,
    -0.155853271,
    -0.140594482,
    -0.117126465,
    -0.105834961,
    ]
    # y= -0.105834961
    sr = "44100"
    # ref = db.reference('audio_feature')
    # user_ref = ref.child('_uid')
    jsonobj = {
        "audio_feature" : [
             {
                "uuid" : "19e7Ml7rNIXvJbl0QgIpNoyftUZ2",
                "sr" : sr,
                "y" : y
             }     
        ]
    }
    rt_ref.set(jsonobj)
    # ref = db.reference("/all-chords")
    return https_fn.Response("UPLOAD DONE")

def load_model():
    # storage_client = storage.Client()
    # bucket = storage.bucket()
    blob = bucket.blob("ann_i_v3.h5")
    
    # Download the model file into an in-memory bytes buffer
    model_bytes = blob.download_as_bytes()
    
    # Load the model using pickle
    model = pickle.loads(model_bytes)
    
    return model

def write_to_firestore(json_data):
    
    jsonObj = {
        "uuid" : "19e7Ml7rNIXvJbl0QgIpNoyftUZ2",
        "prediction" : str(json_data)
    }

    send_data = firestore_client.collection("prediction").document("a11")
    send_data.set(jsonObj)
    

def getAudioFeature_collection():
    
    # Fetch all users data
    users_data = audio_feature_ref.get()

    # Iterate through users to find the specific userId
    for user in users_data:
        # print(user)
        if user['uuid'] == "19e7Ml7rNIXvJbl0QgIpNoyftUZ2":
            return user

def getAudioFeature(data):
    # get_audio_feature = audio_feature_ref.get()
    y = data["y"]
    sr = data["sr"]
    # ref = db.reference("/all-chords")
    return y,sr
# @https_fn.on_request()
# def get_wav(req: https_fn.Request):

def get_wav_in_bytes(path):
    # http://127.0.0.1:5001/lightnroll-11/us-central1/get_wav?path=audio/out_1.wav
    # path = req.args.get("path")
    np.set_printoptions(threshold=sys.maxsize)
    
    if path is None:
        return https_fn.Response("No parameter provided", status=400)
    else:
        
        blob = bucket.blob(path)
        audio_bytes = blob.download_as_bytes()
        audio_buffer = io.BytesIO(audio_bytes)

        return audio_buffer

@https_fn.on_request()
def get_wav_audio_feature(req: https_fn.Request):
    # http://127.0.0.1:5001/lightnroll-11/us-central1/get_wav?path=audio/out_1.wav
    path = req.args.get("path")
    np.set_printoptions(threshold=sys.maxsize)
    
    if path is None:
        return https_fn.Response("No parameter provided", status=400)
    else:
        
        blob = bucket.blob(path)
        audio_bytes = blob.download_as_bytes()
        audio_buffer = io.BytesIO(audio_bytes)
        y, sr = librosa.load(audio_buffer)

        return sr
    
# def get_wav_sr(path):
#     # http://127.0.0.1:5001/lightnroll-11/us-central1/get_wav?path=audio/out_1.wav
#     # path = req.args.get("path")
#     np.set_printoptions(threshold=sys.maxsize)
    
#     if path is None:
#         return https_fn.Response("No parameter provided", status=400)
#     else:
        
#         blob = bucket.blob(path)
#         audio_bytes = blob.download_as_bytes()
#         audio_buffer = io.BytesIO(audio_bytes)
#         y, sr = librosa.load(audio_buffer)

#         return sr
def extract_audio_features(buffer):
    y, sr = librosa.load(buffer)
    # y, sr = sf.read(buffer)

    return y,sr

# def get_audio_feat():

#     get_new_ref = new_ref.get("sr")
#     # ref = db.reference("/all-chords")
#     return get_new_ref

def onset_filter(onset_array):
    onset_array  = onset_array.tolist()
    size = len(onset_array)
    for i in range(size-1):
        if onset_array[i]==onset_array[size-1]:
            break
        else:
            diff = onset_array[i+1] - onset_array[i]
            if diff < 10:
                avg = (onset_array[i] + onset_array[i+1])/2
                onset_array.remove(onset_array[i])
                onset_array.remove(onset_array[i])
                size -= 1
                onset_array.insert(i,int(avg))
    return onset_array

    
# @https_fn.on_request()
def get_onset_times(y,sr):
    
    o_env = librosa.onset.onset_strength(y=y, sr=sr)
    times = librosa.times_like(o_env, sr=sr)
    onset_frames = librosa.onset.onset_detect(onset_envelope=o_env,sr=sr)
    filtered_onset  = onset_filter(onset_frames)
    timeList = times[filtered_onset]

    return timeList

def onset_and_extract(y,sr):
    onset_frames = librosa.onset.onset_detect(y=y, sr=sr)
    onset_times = librosa.frames_to_time(onset_frames, sr=sr)

    # Duration of each segment in seconds
    segment_duration = 2.0
    segment_samples = int(segment_duration * sr)

    # List to store segments' audio time series and sample rate
    segments_info = []

    # Cut the audio segments based on the detected onsets
    for onset_time in onset_times:
        start_sample = int(onset_time * sr)
        end_sample = start_sample + segment_samples
        segment = y[start_sample:end_sample]
        
        # If the segment is shorter than the required duration, pad with zeros (silence)
        if len(segment) < segment_samples:
            segment = np.pad(segment, (0, segment_samples - len(segment)), 'constant')
        # print(segment)
        # Append the segment info (audio time series and sample rate) to the list
        segments_info.append(segment)
    
    return segments_info

def trim_audio(y,sr,cut_points):
    # load the audio file
    audio = audiosegment.from_numpy_array(y,sr)
    cut_duration = 1 * 1000
    time_series = []
    # iterate over the list of time intervals
    for i, cut_points in enumerate(cut_points):
        start_time = int(cut_points * 1000)
        end_time = start_time + cut_duration
        end_time = min(end_time,len(audio))
        chunk  = audio[start_time:end_time]
        _sample_rate = chunk.frame_rate
        time_series.append(chunk.to_numpy_array())
        # sample_rates = [segment.frame_rate for segment in trimmed]
        # construct the output file path
    
    return time_series, _sample_rate
        # output_file_path_i = f"{output_file_path}_{i}.wav"
        # export the segment to a file
        # chunk.export(output_file_path_i, format="wav")
        # url = "gs://lightnroll-11.appspot.com/audio/" + output_file_path_i

#     doc = ref.child('C').get()

# def read_from_realtimeDB():


# @https_fn.on_request()
# def upload_audio_to_firebase(req: https_fn.Request)-> https_fn.Response:
#     """Uploads an audio file to Firebase Storage."""

#     destination_blob_name = "gs://lightnroll-11.appspot.com/audio/"
#     # Get a reference to the storage bucket
#     # bucket = storage.bucket()

#     # Create a new blob and upload the file's content
#     blob = bucket.blob(destination_blob_name)
#     blob.upload_from_filename()

#     # Make the blob publicly viewable (optional)
#     blob.make_public()

#     print(f"File {file_path} uploaded to {destination_blob_name}.")
#     print(f"Public URL: {blob.public_url}")

def pcp(y,sr, fref=261.63):

    fft_val = np.fft.fft(y)
    N = len(fft_val)
    def M(l, fs, fref):
        if l == 0:
            return -1
        return round(12 * log2((fs * l) / (N * fref))) % 12

    pcp = [0 for p in range(12)]
    for p in range(12):
        for l in range((N // 2) - 1):
            temp = M(l, fs=sr, fref=fref)

            if p == temp:
                h = abs(fft_val[l]) ** 2 
                pcp[p] += h

    pcp_norm = [0 for p in range(12)]
    for p in range(12):
        pcp_norm[p] = pcp[p] / sum(pcp)

    return list(pcp_norm)
def write_audio_to_realtimeDB(result):

    ml_ref.set(result)
    # ref = db.reference("/all-chords")
    return https_fn.Response("UPLOAD DONE")

@https_fn.on_request()
def evaluate(req: https_fn.Request) -> https_fn.Response:

    # uuid = req.args.get("id")
    # buffer = get_wav_in_bytes(path)
    # y, sr = extract_audio_features(buffer)
    # full_y,full_sr = librosa.load("G_E_1.wav")
    
    # audio_feature_ref.set({
    #     "y":str(full_y),
    #     "sr":str(full_sr),
    #     "uuid":"19e7Ml7rNIXvJbl0QgIpNoyftUZ2"
    # })

    # result = getAudioFeature_collection()

    # y,sr = getAudioFeature(result)
    tmp = req.get_json()
    body_pcp = tmp.get('pcp')
    # body_sr = tmp.get('sr')
    print(body_pcp)
    # print(body_sr)
    # sr=int(sr)
    # y=np.array(y,dtype='float32')
    # # cut_points = get_onset_times(y=y,sr=sr)
    # # new_y, new_sr = trim_audio(y,sr,cut_points)
    # new_y = onset_and_extract(y,sr)

    prediction_result = []
    # model = load_model()
    # for i in range(1):
    # new_pcp = pcp(y=body_pcp,sr=body_sr)
    # print(new_pcp)
    # prediction_result.append(str(predict(data=new_pcp)))
    result = predict(data=body_pcp)
        # new_pcp = pcp(y=new_y[i],sr=new_sr)
        # new_pcp = np.array(new_pcp).reshape(1,-1)
        # print(new_pcp[0])
        # X = np.array(new_pcp).shape(1,-1)
        # pred = model.predict(new_pcp[0])
        # prediction_result.append(str(predict(data=new_pcp)))
        # prediction_result.append(pred)
    # # write_to_firestore(json.dumps(jsonObj))
    # # write_to_firestore(prediction_result)
    foo = {
        "prediction" : result
    }
    # return https_fn.Response(prediction_result)
    return jsonify(foo)

# @https_fn.on_request()
def predict(data):

    X = np.array(data).reshape(1, -1)

    model = pickle.load(open("ann_i_v3.h5", "rb"))

    mapping = ["Am", "Em", "G", "A", "F", "Dm", "C", "D", "E", "B"]

    result = model.predict(X)

    return str(mapping[int(result)])
